"use strict";$(function(){$.get("http://47.104.244.134:8080/cartlist.do",{token:$.cookie("token")},function(t){console.log(t);for(var n="",a=0;a<t.length;a++){var s=t[a].goods,i=(t[a].count,(s.price/100).toFixed(2));n+='\n            <tr class="tr-biaoji" data-id="'+t[a].id+'" data-gid="'+t[a].gid+'">\n            <td><input class="chkbox"  type="checkbox"></td>\n            <td>\n                <img src="'+s.picurl+'"/>\n            </td>\n            <td>\n                <span class ="shengLue">'+s.name+"</span><br/>\n                <span>"+s.name.split(" ")[0]+'</span>\n            </td>\n            <td class= "danjia">￥\n                <span>'+i+'</span>\n            </td>\n            <td>\n                <span class="reduceBtn">-</span>\n                <span>'+t[a].count+'</span>\n                <span class="addBtn">+</span>\n            </td>\n            <td class="xiaoji">\n                ￥<span class="xjNum">'+(i*t[a].count).toFixed(2)+'</span>\n            </td>\n            <td>\n                <input type="button" class="btn btn-info" value="删除">\n            </td>\n        </tr>\n        \n            '}var e='\n        <table id="cartTable" class="table table-hover cart-table clearfix">\n        <tr>\n        <th>\n            <input class="chkbox" type="checkbox">全选\n        </th>\n        <th>商品信息</th>\n        <th> </th>\n        <th>单价</th>\n        <th>数量</th>\n        <th>小计</th>\n        <th>活动</th>\n    </tr>\n    '+n+'\n    <tr>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t已选（<span id="yiXuan">0</span>）\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<span class="batchDelBtn">\n\t\t\t\t\t\t\t批量删除\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td> </td>\n\t\t\t\t\t<td> </td>\n\t\t\t\t\t<td> </td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<p>应付金额：<span id="yf$" class="total">￥0</span></p>\n\t\t\t\t\t\t<p class="totalAll">商品合计：<span id="hjNum" >￥0</span></p>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<input class="btn btn-primary" type="button" value="下单">\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n                </table>\n        ';function p(t,n){var a=0;$(t).each(function(){a+=parseInt($(this).html())}),$(n).html("￥"+a.toFixed(2))}$("#shopTable").html(e),$("#cartTable input").prop("checked",!0),p(".xjNum","#hjNum"),$(".addBtn").click(function(){var t=$(this).prev("span").html();t++,$(this).prev("span").html(t);var n=$(this).parent().prev(".danjia").find("span").html();$(this).parent().next(".xiaoji").find("span").html((t*n).toFixed(2)),p(".xjNum","#hjNum")}),$(".reduceBtn").click(function(){var t=$(this).next("span").html();--t<2&&(t=1),$(this).next("span").html(t);var n=$(this).parent().prev(".danjia").find("span").html();$(this).parent().next(".xiaoji").find("span").html((t*n).toFixed(2)),p(".xjNum","#hjNum"),$("input:checked").parent().next(".").each(function(){sum+=parseInt($(this).html())}),$(content).html("￥"+sum.toFixed(2))})})});