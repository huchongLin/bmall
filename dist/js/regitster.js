"use strict";$(function(){var t=!0;$("#userName").blur(function(){t=$("#userName").val().trim().length<1?($("#userTip").html("请填写用户名！").addClass("red"),!1):($("#userTip").html(" "),!0);var a=$("#userName").val();return t=/^[a-zA-Z][a-zA-Z0-9]{3,15}$/.test(a)?($("#accTip").html(" "),!0):($("#userTip").html("用户名由英文字母和数字组成的4-16位字符，以字母开头！").addClass("red"),!1),$.get("http://47.104.244.134:8080/username.do",{username:$("#userName").val()},function(a){t=a.code?($("#userTip").html("此用户名可以放心使用").removeClass("red"),!0):($("#userTip").html("此用户名已被占用！").addClass("red"),!1)}),t}),$("#accountNum").blur(function(){t=$("#accountNum").val().trim().length<1?($("#accTip").html("请填写用户邮箱！").addClass("red"),!1):($("#accTip").html(" "),!0);var a=$("#accountNum").val();return t=/^[a-zA-Z0-9][\w\.-]*[a-zA-Z0-9]@[a-zA-Z0-9][\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]$/.test(a)?($("#accTip").html(" "),!0):($("#accTip").html("邮箱格式错误，请输入正确邮箱！").addClass("red"),!1),$.get("http://47.104.244.134:8080/useremail.do",{email:$("#accountNum").val()},function(a){t=a.code?($("#accTip").html("此邮箱可以放心使用").removeClass("red"),!0):($("#accTip").html("此邮箱已被占用，请重新填写邮箱！").addClass("red"),!1)}),t}),$("#pas").blur(function(){t=$("#pas").val().trim().length<1?($("#pasTip").html("请填写密码！").addClass("red"),!1):($("#pasTip").html(" "),!0);var a=$("#pas").val();return t=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,16}$/.test(a)?($("#pasTip").html("格式正确").removeClass("red"),!0):($("#pasTip").html("格式错误！").addClass("red"),!1)}),$("#pas2").blur(function(){return t=$("#pas").val().length?(t=$("#pas2").val().trim().length<1?($("#pas2Tip").html("请再次输入密码！").addClass("red"),!1):($("#pas2Tip").html(" "),!0),$("#pas").val()==$("#pas2").val()?($("#pas2Tip").html("验证成功").removeClass("red"),!0):($("#pas2Tip").html("两次输入的密码必须一致！").addClass("red"),!1)):($("#pas2Tip").html("请先填写密码在验证！").addClass("red"),!1)}),$("#yzBtn").on("click",function(){$(this).val("验证成功").css({background:"#32cd32",color:"#fff",border:"none"})}),$("#phoneNum").blur(function(){t=$("#phoneNum").val().trim().length<1?($("#pNumTip").html("请填写手机号！").addClass("red"),!1):($("#pNumTip").html(" "),!0);var a=$("#phoneNum").val();return t=/^1[34578]\d{9}$/.test(a)?($("#pNumTip").html("格式正确").removeClass("red"),!0):($("#pNumTip").html("手机号码格式错误！").addClass("red"),!1)}),$("#yzmBtn").on("click",function(){$("#yanzhengma").fadeIn().html(function(){for(var a=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t="",e=0;e<4;e++)t+=""+a[Math.floor(Math.random()*a.length)];return t}())}),$("#yzmContent").blur(function(){return t=$("#yzmContent").val().length?($("#yzmTip").html(" "),!0):($("#yzmTip").html("请输入验证码！").addClass("red"),!1),t=$("#yzmContent").val()==$("#yanzhengma").html()?($("#yzmTip").html("验证成功").removeClass("red"),!0):($("#yzmTip").html("验证码错误,验证码区分大小写！").addClass("red"),!1)}),t=!($("input").val().length<1),$("input").blur(function(){t=!($("input").val().length<1)}),$("#btnSubmit").on("click",function(a){a.preventDefault(),t?($.post("http://47.104.244.134:8080/usersave.do",{username:$("#userName").val(),password:$("#pas").val(),email:$("#accountNum").val(),sex:"女"},function(a){a.code?alert("注册失败，请重试"):alert("注册成功")}),window.location.href="login.html"):alert("请填入正确信息")})});